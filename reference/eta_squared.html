<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Effect size for ANOVA — eta_squared • effectsize</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Effect size for ANOVA — eta_squared" />
<meta property="og:description" content="Functions to compute effect size measures for ANOVAs, such as Eta, Omega and
Epsilon squared, and Cohen's f (or their partialled versions) for aov,
aovlist and anova models. These indices represent an estimate of how much
variance in the response variables is accounted for by the explanatory
variable(s).

Effect sizes are computed using the sums of squares obtained from
anova(model) which might not always be appropriate (Yeah... ANOVAs are
hard...). It is suggested that ANOVA models be fit with afex package.
See details." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">effectsize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Features</a>
</li>
<li>
  <a href="../articles/standardize_data.html">Data Standardization</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Effect Sizes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/standardize_parameters.html">Parameter and Model Standardization</a>
    </li>
    <li>
      <a href="../articles/anovaES.html">ANOVA Effect Sizes</a>
    </li>
    <li>
      <a href="../articles/bayesian_models.html">For Bayesian Models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Conversion
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/convert.html">Between d, r, OR</a>
    </li>
    <li>
      <a href="../articles/from_test_statistics.html">From Test Statistics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/interpret.html">Interpretation Guidelines</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/easystats/effectsize/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Effect size for ANOVA</h1>
    <small class="dont-index">Source: <a href='https://github.com/easystats/effectsize/blob/master/R/eta_squared.R'><code>R/eta_squared.R</code></a>, <a href='https://github.com/easystats/effectsize/blob/master/R/eta_squared_posterior.R'><code>R/eta_squared_posterior.R</code></a></small>
    <div class="hidden name"><code>eta_squared.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions to compute effect size measures for ANOVAs, such as Eta, Omega and
Epsilon squared, and Cohen's f (or their partialled versions) for <code>aov</code>,
<code>aovlist</code> and <code>anova</code> models. These indices represent an estimate of how much
variance in the response variables is accounted for by the explanatory
variable(s).
<br /><br />
Effect sizes are computed using the sums of squares obtained from
<code><a href='https://rdrr.io/r/stats/anova.html'>anova(model)</a></code> which might not always be appropriate (<strong><em>Yeah... ANOVAs are
hard...</em></strong>). It is suggested that ANOVA models be fit with <code>afex</code> package.
See details.</p>
    </div>

    <pre class="usage"><span class='fu'>eta_squared</span><span class='op'>(</span>
  <span class='va'>model</span>,
  partial <span class='op'>=</span> <span class='cn'>TRUE</span>,
  generalized <span class='op'>=</span> <span class='cn'>FALSE</span>,
  ci <span class='op'>=</span> <span class='fl'>0.9</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>omega_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, ci <span class='op'>=</span> <span class='fl'>0.9</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>epsilon_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, ci <span class='op'>=</span> <span class='fl'>0.9</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>cohens_f</span><span class='op'>(</span>
  <span class='va'>model</span>,
  partial <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ci <span class='op'>=</span> <span class='fl'>0.9</span>,
  squared <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  model2 <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>cohens_f_squared</span><span class='op'>(</span>
  <span class='va'>model</span>,
  partial <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ci <span class='op'>=</span> <span class='fl'>0.9</span>,
  squared <span class='op'>=</span> <span class='cn'>TRUE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  model2 <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>eta_squared_posterior</span><span class='op'>(</span>
  <span class='va'>model</span>,
  partial <span class='op'>=</span> <span class='cn'>TRUE</span>,
  generalized <span class='op'>=</span> <span class='cn'>FALSE</span>,
  ss_function <span class='op'>=</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span>,
  draws <span class='op'>=</span> <span class='fl'>500</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A model, ANOVA object, or the result of <code><a href='https://easystats.github.io/parameters/reference/model_parameters.html'>parameters::model_parameters</a></code>.</p></td>
    </tr>
    <tr>
      <th>partial</th>
      <td><p>If <code>TRUE</code>, return partial indices.</p></td>
    </tr>
    <tr>
      <th>generalized</th>
      <td><p>If TRUE, returns generalized Eta Squared, assuming all
variables are manipulated. Can also be a character vector of observed
(non-manipulated) variables, in which case generalized Eta Squared is
calculated taking these observed variables into account. For <code>afex_aov</code>
model, when <code>generalized = TRUE</code>, the observed variables are extracted
automatically from the fitted model, if they were provided then.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>Confidence Interval (CI) level</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Toggle warnings and messages on or off.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For Bayesian models, passed to <code>ss_function</code>. Otherwise ignored.</p></td>
    </tr>
    <tr>
      <th>squared</th>
      <td><p>Return Cohen's <em>f</em> or Cohen's <em>f</em>-squared?</p></td>
    </tr>
    <tr>
      <th>model2</th>
      <td><p>Optional second model for Cohen's f (/squared). If specified,
returns the effect size for R-squared-change between the two models.</p></td>
    </tr>
    <tr>
      <th>ss_function</th>
      <td><p>For Bayesian models, the function used to extract
sum-of-squares. Uses <code><a href='https://rdrr.io/r/stats/anova.html'>anova()</a></code> by default, but can also be <code><a href='https://rdrr.io/pkg/car/man/Anova.html'>car::Anova()</a></code>
for simple linear models.</p></td>
    </tr>
    <tr>
      <th>draws</th>
      <td><p>For Bayesian models, an integer indicating the number of draws
from the posterior predictive distribution to return. Larger numbers take
longer to run, but provide estimates that are more stable.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with the effect size(s) and confidence interval(s).
<br /><br />
For <code>eta_squared_posterior()</code>, a data frame containing the ppd of the Eta
squared for each fixed effect, which can then be passed to
<code><a href='https://easystats.github.io/bayestestR/reference/describe_posterior.html'>bayestestR::describe_posterior()</a></code> for summary stats.</p>
<p>A data frame containing the effect size values and their confidence intervals.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For <code>aov</code> and <code>aovlist</code> models, the effect sizes are computed directly with
Sums-of-Squares (for <code>mlm</code> / <code>maov</code> models, effect sizes are computed for
each response separately). For all other model, the model is passed to
<code><a href='https://rdrr.io/r/stats/anova.html'>anova()</a></code>, and effect sizes are approximated via test statistic conversion
(see <code><a href='F_to_eta2.html'>F_to_eta2()</a></code> for more details.)</p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Type of Sums of Squares</h3>


<p>The sums of squares (or F statistics) used for the computation of the effect
sizes is based on those returned by <code><a href='https://rdrr.io/r/stats/anova.html'>anova(model)</a></code> (whatever those may be -
for <code>aov</code> and <code>aovlist</code> these are <em>type-1</em> sums of squares; for <code>merMod</code>
these are <em>type-3</em> sums of squares). Make sure these are the sums of squares
you are interested in; You might want to pass the result of <code><a href='https://rdrr.io/pkg/car/man/Anova.html'>car::Anova(mode, type = 3)</a></code>, or use the <code>afex</code> package to fit ANOVA models.
<br /><br />
It is generally recommended to fit models with <em><code>contr.sum</code> factor weights</em>
and <em>centered covariates</em>, for sensible results. See examples and the <code>afex</code>
package.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Un-Biased Estimate of Eta</h3>


<p>Both <em><strong>Omega</strong></em> and <em><strong>Epsilon</strong></em> are unbiased estimators of the
population's <em><strong>Eta</strong></em>, which is especially important is small samples. But
which to choose?
<br /><br />
Though Omega is the more popular choice (Albers \&amp; Lakens, 2018), Epsilon is
analogous to adjusted R2 (Allen, 2017, p. 382), and has been found to be less
biased (Carroll &amp; Nordholm, 1975).</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Cohen's f</h3>


<p>Cohen's f can take on values between zero, when the population means are all
equal, and an indefinitely large number as standard deviation of means
increases relative to the average standard deviation within each group.
<br /><br />
When comparing two models in a sequential regression analysis, Cohen's f for
R-square change is the ratio between ratio between the increase in R-square
and the \<!-- % unexplained variance. -->
<br /><br />
Cohen has suggested that the values of 0.10, 0.25, and 0.40 represent small,
medium, and large effect sizes, respectively.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Eta Squared from Posterior Predictive Distribution</h3>


<p>For Bayesian models (fit with <code>brms</code> or <code>rstanarm</code>),
<code>eta_squared_posterior()</code> simulates data from the posterior predictive
distribution (ppd) and for each simulation the Eta Squared is computed for
the model's fixed effects. This means that the returned values are the
population level effect size as implied by the posterior model (and not the
effect size in the sample data). See <code><a href='https://mc-stan.org/rstantools/reference/posterior_predict.html'>rstantools::posterior_predict()</a></code> for
more info.</p>

    <h2 class="hasAnchor" id="confidence-intervals"><a class="anchor" href="#confidence-intervals"></a>Confidence Intervals</h2>

    

<p>Confidence intervals are estimated using the Noncentrality parameter method;
These methods searches for a the best non-central parameters (<code>ncp</code>s) of the
noncentral t-, F- or Chi-squared distribution for the desired
tail-probabilities, and then convert these <code>ncp</code>s to the corresponding effect
sizes. (See full <a href='effectsize-CIs.html'>effectsize-CIs</a> for more.)</p>
    <h2 class="hasAnchor" id="ci-contains-zero"><a class="anchor" href="#ci-contains-zero"></a>CI Contains Zero</h2>

    

<p>For positive only effect sizes (Eta squared, Cramer's V, etc.; Effect sizes
associated with Chi-squared and F distributions), special care should be
taken when interpreting CIs with a lower bound equal to 0, and even more care
should be taken when the <em>upper</em> bound is equal to 0 (Steiger, 2004; Morey et
al., 2016). For example:</p><pre><span class='fu'>eta_squared</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>gear</span><span class='op'>)</span>, <span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, <span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>#&gt; Parameter    | Eta2 |       90% CI</span>
<span class='co'>#&gt; ----------------------------------</span>
<span class='co'>#&gt; factor(gear) | 0.33 | [0.00, 0.74]</span>
</pre>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Albers, C., \&amp; Lakens, D. (2018). When power analyses based on pilot data are biased: Inaccurate effect size estimators and follow-up bias. Journal of experimental social psychology, 74, 187-195.</p></li>
<li><p>Allen, R. (2017). Statistics and Experimental Design for Psychologists: A Model Comparison Approach. World Scientific Publishing Company.</p></li>
<li><p>Carroll, R. M., &amp; Nordholm, L. A. (1975). Sampling Characteristics of Kelley's epsilon and Hays' omega. Educational and Psychological Measurement, 35(3), 541-554.</p></li>
<li><p>Kelley, T. (1935) An unbiased correlation ratio measure. Proceedings of the National Academy of Sciences. 21(9). 554-559.</p></li>
<li><p>Olejnik, S., &amp; Algina, J. (2003). Generalized eta and omega squared statistics: measures of effect size for some common research designs. Psychological methods, 8(4), 434.</p></li>
<li><p>Steiger, J. H. (2004). Beyond the F test: Effect size confidence intervals and tests of close fit in the analysis of variance and contrast analysis. Psychological Methods, 9, 164-182.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='F_to_eta2.html'>F_to_eta2()</a></code></p>
<p>Other effect size indices: 
<code><a href='cohens_d.html'>cohens_d</a>()</code>,
<code><a href='effectsize.html'>effectsize</a>()</code>,
<code><a href='phi.html'>phi</a>()</code>,
<code><a href='standardize_parameters.html'>standardize_parameters</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://easystats.github.io/effectsize/'>effectsize</a></span><span class='op'>)</span>
<span class='va'>mtcars</span><span class='op'>$</span><span class='va'>am_f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>am</span><span class='op'>)</span>
<span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl_f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl</span><span class='op'>)</span>

<span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>am_f</span> <span class='op'>*</span> <span class='va'>cyl_f</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>

<span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Eta2 (partial) |       90% CI
#&gt; ------------------------------------------
#&gt; am_f       |           0.63 | [0.42, 0.75]
#&gt; cyl_f      |           0.66 | [0.45, 0.77]
#&gt; am_f:cyl_f |           0.10 | [0.00, 0.27]</div><div class='input'><span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span>, generalized <span class='op'>=</span> <span class='st'>"cyl_f"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Eta2 (generalized) |       90% CI
#&gt; ----------------------------------------------
#&gt; am_f       |               0.36 | [0.13, 0.55]
#&gt; cyl_f      |               0.63 | [0.42, 0.75]
#&gt; am_f:cyl_f |               0.04 | [0.00, 0.16]</div><div class='input'><span class='fu'>omega_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Omega2 (partial) |       90% CI
#&gt; --------------------------------------------
#&gt; am_f       |             0.57 | [0.35, 0.71]
#&gt; cyl_f      |             0.60 | [0.37, 0.72]
#&gt; am_f:cyl_f |             0.02 | [0.00, 0.13]</div><div class='input'><span class='fu'>epsilon_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Epsilon2 (partial) |       90% CI
#&gt; ----------------------------------------------
#&gt; am_f       |               0.61 | [0.40, 0.74]
#&gt; cyl_f      |               0.63 | [0.41, 0.75]
#&gt; am_f:cyl_f |               0.03 | [0.00, 0.06]</div><div class='input'><span class='fu'>cohens_f</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Cohen's f (partial) |       90% CI
#&gt; -----------------------------------------------
#&gt; am_f       |                1.30 | [0.86, 1.73]
#&gt; cyl_f      |                1.38 | [0.90, 1.81]
#&gt; am_f:cyl_f |                0.33 | [0.00, 0.61]</div><div class='input'><span class='op'>(</span><span class='va'>etas</span> <span class='op'>&lt;-</span> <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Parameter  | Eta2 |       90% CI
#&gt; --------------------------------
#&gt; am_f       | 0.36 | [0.13, 0.55]
#&gt; cyl_f      | 0.41 | [0.14, 0.58]
#&gt; am_f:cyl_f | 0.02 | [0.00, 0.13]</div><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://easystats.github.io/see/'>see</a></span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>etas</span><span class='op'>)</span>
</div><div class='img'><img src='eta_squared-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='va'>model0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>am_f</span> <span class='op'>+</span> <span class='va'>cyl_f</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span> <span class='co'># no interaction</span>
<span class='fu'>cohens_f_squared</span><span class='op'>(</span><span class='va'>model0</span>, model2 <span class='op'>=</span> <span class='va'>model</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required namespace: performance</span></div><div class='output co'>#&gt; Cohen's f2 (partial) |       90% CI | R2_delta
#&gt; ----------------------------------------------
#&gt;                 0.11 | [0.00, 0.37] |     0.02</div><div class='input'>



<span class='co'># Recommended: Type-3 effect sizes + effects coding</span>
<span class='co'># -------------------------------------------------</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://r-forge.r-project.org/projects/car/'>car</a></span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/contrasts.html'>contrasts</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>am_f</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>contr.sum</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/contrasts.html'>contrasts</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl_f</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>contr.sum</span>

  <span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>am_f</span> <span class='op'>*</span> <span class='va'>cyl_f</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>
  <span class='va'>model_anova</span> <span class='op'>&lt;-</span> <span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/Anova.html'>Anova</a></span><span class='op'>(</span><span class='va'>model</span>, type <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>

  <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model_anova</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; Parameter  | Eta2 (partial) |       90% CI
#&gt; ------------------------------------------
#&gt; am_f       |           0.11 | [0.00, 0.32]
#&gt; cyl_f      |           0.63 | [0.42, 0.75]
#&gt; am_f:cyl_f |           0.10 | [0.00, 0.27]</div><div class='input'>
<span class='co'># afex takes care of both type-3 effects and effects coding:</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='http://afex.singmann.science/'>afex</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>obk.long</span>, package <span class='op'>=</span> <span class='st'>"afex"</span><span class='op'>)</span>
  <span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/afex/man/aov_car.html'>aov_car</a></span><span class='op'>(</span><span class='va'>value</span> <span class='op'>~</span> <span class='va'>treatment</span> <span class='op'>*</span> <span class='va'>gender</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>Error</a></span><span class='op'>(</span><span class='va'>id</span> <span class='op'>/</span> <span class='op'>(</span><span class='va'>phase</span><span class='op'>)</span><span class='op'>)</span>,
    data <span class='op'>=</span> <span class='va'>obk.long</span>, observed <span class='op'>=</span> <span class='st'>"gender"</span>
  <span class='op'>)</span>
  <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
  <span class='fu'>epsilon_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
  <span class='fu'>omega_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
  <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
  <span class='fu'>epsilon_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
  <span class='fu'>omega_squared</span><span class='op'>(</span><span class='va'>model</span>, partial <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
  <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>model</span>, generalized <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># observed vars are pulled from the afex model.</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: More than one observation per cell, aggregating the data using mean (i.e, fun_aggregate = mean)!</span></div><div class='output co'>#&gt; <span class='message'>Contrasts set to contr.sum for the following variables: treatment, gender</span></div><div class='output co'>#&gt; Parameter              | Eta2 (generalized) |       90% CI
#&gt; ----------------------------------------------------------
#&gt; treatment              |               0.25 | [0.00, 0.53]
#&gt; gender                 |               0.16 | [0.00, 0.48]
#&gt; treatment:gender       |               0.24 | [0.00, 0.52]
#&gt; phase                  |               0.20 | [0.00, 0.41]
#&gt; treatment:phase        |               0.13 | [0.00, 0.26]
#&gt; gender:phase           |           4.25e-03 | [0.00, 0.00]
#&gt; treatment:gender:phase |               0.02 | [0.00, 0.00]</div><div class='input'>


<span class='co'>## Approx. effect sizes for mixed models</span>
<span class='co'>## -------------------------------------</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/runehaubo/lmerTestR'>lmerTest</a></span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/lmerTest/man/lmer.html'>lmer</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>am_f</span> <span class='op'>*</span> <span class='va'>cyl_f</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>|</span> <span class='va'>vs</span><span class='op'>)</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>
  <span class='fu'>omega_squared</span><span class='op'>(</span><span class='va'>model</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='message'>boundary (singular) fit: see ?isSingular</span></div><div class='output co'>#&gt; Parameter  | Omega2 (partial) |       90% CI
#&gt; --------------------------------------------
#&gt; am_f       |             0.07 | [0.00, 0.27]
#&gt; cyl_f      |             0.60 | [0.36, 0.72]
#&gt; am_f:cyl_f |             0.03 | [0.00, 0.14]</div><div class='input'>



<span class='co'>## Bayesian Models (PPD)</span>
<span class='co'>## ---------------------</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://mc-stan.org/rstanarm/'>rstanarm</a></span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> <span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://easystats.github.io/bayestestR/'>bayestestR</a></span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> <span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://r-forge.r-project.org/projects/car/'>car</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>fit_bayes</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://mc-stan.org/rstanarm/reference/stan_glm.html'>stan_glm</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>cyl</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>wt</span> <span class='op'>+</span> <span class='va'>qsec</span>,
    data <span class='op'>=</span> <span class='va'>mtcars</span>,
    family <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/family.html'>gaussian</a></span><span class='op'>(</span><span class='op'>)</span>,
    refresh <span class='op'>=</span> <span class='fl'>0</span>
  <span class='op'>)</span>

  <span class='va'>es</span> <span class='op'>&lt;-</span> <span class='fu'>eta_squared_posterior</span><span class='op'>(</span><span class='va'>fit_bayes</span>,
    ss_function <span class='op'>=</span> <span class='fu'>car</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/car/man/Anova.html'>Anova</a></span>, type <span class='op'>=</span> <span class='fl'>3</span>
  <span class='op'>)</span>
  <span class='fu'>bayestestR</span><span class='fu'>::</span><span class='fu'><a href='https://easystats.github.io/bayestestR/reference/describe_posterior.html'>describe_posterior</a></span><span class='op'>(</span><span class='va'>es</span><span class='op'>)</span>


  <span class='co'># compare to:</span>
  <span class='va'>fit_freq</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>cyl</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>wt</span> <span class='op'>+</span> <span class='va'>qsec</span>,
    data <span class='op'>=</span> <span class='va'>mtcars</span>
  <span class='op'>)</span>
  <span class='va'>aov_table</span> <span class='op'>&lt;-</span> <span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/Anova.html'>Anova</a></span><span class='op'>(</span><span class='va'>fit_freq</span>, type <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
  <span class='fu'>eta_squared</span><span class='op'>(</span><span class='va'>aov_table</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>
<span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/mattansb'>Mattan S. Ben-Shachar</a>, <a href='https://dominiquemakowski.github.io/'>Dominique Makowski</a>, <a href='https://github.com/strengejacke'>Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


